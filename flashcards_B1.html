<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vocabulaire B1 - Style iOS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; overflow-x: hidden; }
        .mesh-bg { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1; background-color: #000; background-image: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%); background-image: radial-gradient(at 80% 0%, hsla(180,100%,50%,0.6) 0px, transparent 50%), radial-gradient(at 0% 50%, hsla(260,100%,70%,0.6) 0px, transparent 50%), radial-gradient(at 80% 50%, hsla(300,100%,60%,0.6) 0px, transparent 50%), radial-gradient(at 0% 100%, hsla(200,100%,50%,0.6) 0px, transparent 50%), radial-gradient(at 80% 100%, hsla(240,100%,70%,0.6) 0px, transparent 50%), radial-gradient(at 0% 0%, hsla(340,100%,76%,0.6) 0px, transparent 50%); filter: blur(60px); opacity: 0.7; animation: meshMove 20s infinite alternate; }
        @keyframes meshMove { 0% { transform: scale(1); } 100% { transform: scale(1.2); } }
        .flashcard-container { perspective: 1200px; }
        .flashcard { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        .flashcard-container.is-flipped .flashcard { transform: rotateY(180deg); }
        .flashcard-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; border-radius: 1.5rem; background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); box-shadow: 0 20px 40px -10px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.5) inset; }
        .flashcard-back { transform: rotateY(180deg); background: rgba(255, 255, 255, 0.95); }
        select { -webkit-appearance: none; appearance: none; background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1em; }
        .btn-glass { background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); transition: all 0.3s ease; }
        .btn-glass:active { transform: scale(0.96); background: rgba(255, 255, 255, 0.4); }
        .btn-primary { background: #00C7BE; color: white; box-shadow: 0 4px 12px rgba(0, 199, 190, 0.3); transition: all 0.3s ease; }
        .btn-primary:active { transform: scale(0.96); opacity: 0.9; }
        .nav-link { padding: 0.5rem 1rem; border-radius: 9999px; font-weight: 600; font-size: 0.9rem; transition: all 0.2s; text-decoration: none; }
        .nav-link-active { background-color: white; color: #1e293b; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .nav-link-inactive { color: rgba(255,255,255,0.7); }
        .nav-link-inactive:hover { background-color: rgba(255,255,255,0.1); color: white; }
    </style>
</head>
<body class="text-slate-800 min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 relative">
    <div class="mesh-bg"></div>
    <main class="w-full max-w-md mx-auto flex flex-col gap-6 relative z-10">
        <nav class="bg-black/20 backdrop-blur-md p-1.5 rounded-full flex justify-between items-center mx-4 shadow-lg border border-white/10">
            <a href="https://pooriadf.github.io/learning_french/flashcards_A1" class="nav-link nav-link-inactive flex-1 text-center">A1</a>
            <a href="https://pooriadf.github.io/learning_french/flashcards_A2" class="nav-link nav-link-inactive flex-1 text-center">A2</a>
            <a href="#" class="nav-link nav-link-active flex-1 text-center pointer-events-none">B1</a>
            <a href="https://pooriadf.github.io/learning_french/flashcards_B2" class="nav-link nav-link-inactive flex-1 text-center">B2</a>
        </nav>
        <header class="text-center mb-1">
            <h1 class="text-4xl font-bold text-white tracking-tight drop-shadow-md">Vocabulaire B1</h1>
            <p class="text-slate-200 font-medium text-lg opacity-90">500 mots intermédiaires</p>
        </header>
        <section class="bg-white/10 backdrop-blur-xl border border-white/20 p-2 rounded-3xl flex gap-2 shadow-lg">
            <div class="relative w-full">
                <select id="category-select" class="w-full bg-white/20 border-none text-white font-medium rounded-2xl px-4 py-3 pr-10 focus:ring-2 focus:ring-white/50 outline-none transition hover:bg-white/30 cursor-pointer placeholder-white">
                    <option class="text-slate-800" value="all">Toutes les catégories (500)</option>
                    <option class="text-slate-800" value="cat1">Verbes (Action)</option>
                    <option class="text-slate-800" value="cat2">Verbes (Pensée)</option>
                    <option class="text-slate-800" value="cat3">Noms (Personnes/Société)</option>
                    <option class="text-slate-800" value="cat4">Noms (Objets/Lieux)</option>
                    <option class="text-slate-800" value="cat5">Noms (Concepts/Idées)</option>
                    <option class="text-slate-800" value="cat6">Adjectifs (Description)</option>
                    <option class="text-slate-800" value="cat7">Adjectifs (Opinion)</option>
                    <option class="text-slate-800" value="cat8">Adverbes & Intensité</option>
                    <option class="text-slate-800" value="cat9">Connecteurs & Prépositions</option>
                    <option class="text-slate-800" value="cat10">Environnement & Tech</option>
                    <option class="text-slate-800" value="cat11">Verbes (Mouvement, Voyage)</option>
                    <option class="text-slate-800" value="cat12">Verbes (Interaction Sociale)</option>
                    <option class="text-slate-800" value="cat13">Noms (Temps, Durée)</option>
                    <option class="text-slate-800" value="cat14">Noms (Éducation, Travail)</option>
                    <option class="text-slate-800" value="cat15">Noms (Sentiments, Qualités)</option>
                    <option class="text-slate-800" value="cat16">Adjectifs (Relation, Quantité)</option>
                    <option class="text-slate-800" value="cat17">Adjectifs (Divers, Abstraits)</option>
                    <option class="text-slate-800" value="cat18">Adverbes (Lieu, Fréquence)</option>
                    <option class="text-slate-800" value="cat19">Expressions Fréquentes</option>
                    <option class="text-slate-800" value="cat20">Administration & Finance</option>
                </select>
            </div>
            <button id="shuffle-button" class="btn-glass p-3 rounded-2xl text-white" title="Mélanger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l14.2-12.6"/><path d="M2 6h1.4c1.3 0 2.5.6 3.3 1.7l14.2 12.6"/><path d="M20 2l4 4-4 4"/><path d="M20 14l4 4-4 4"/></svg></button>
        </section>
        <section class="relative group">
            <p id="progress-indicator" class="text-center text-white/80 text-sm font-medium mb-3 tracking-wide">Carte 1 sur 500</p>
            <div id="flashcard-container" class="flashcard-container w-full h-[420px] cursor-pointer" onclick="flipCard()">
                <div class="flashcard">
                    <div class="flashcard-face flashcard-front">
                        <div class="flex flex-col items-center gap-4 z-10">
                            <span class="text-xs font-bold text-slate-400 uppercase tracking-widest bg-slate-100 px-3 py-1 rounded-full">Français</span>
                            <h2 id="card-front-text" class="text-4xl sm:text-5xl font-bold text-slate-800 text-center tracking-tight leading-tight px-2"></h2>
                            <button onclick="playAudio(event)" class="mt-4 w-12 h-12 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center hover:bg-teal-200 transition shadow-sm active:scale-90"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg></button>
                            <p class="text-slate-400 text-sm mt-1 font-medium">Toucher pour retourner</p>
                        </div>
                    </div>
                    <div class="flashcard-face flashcard-back p-8">
                        <div class="w-full h-full flex flex-col justify-between items-center">
                            <div class="text-center">
                                <span class="text-xs font-bold text-teal-600 uppercase tracking-widest bg-teal-50 px-3 py-1 rounded-full mb-3 inline-block">Anglais</span>
                                <h3 id="card-back-text" class="text-3xl font-bold text-slate-800 mb-1"></h3>
                                <p id="card-type-text" class="text-lg text-slate-500 font-medium italic font-serif"></p>
                            </div>
                            <div class="w-full bg-slate-50 rounded-2xl p-4 border border-slate-100 relative">
                                <button onclick="playExampleAudio(event)" class="absolute top-2 right-2 text-slate-400 hover:text-teal-500 transition p-1"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg></button>
                                <!-- Sentence Audio Button -->
                                <button onclick="playExampleAudio(event)" class="absolute top-2 right-2 text-slate-400 hover:text-teal-500 transition p-1 active:scale-90">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
                                </button>
                                <p id="example-fr" class="text-lg text-slate-700 font-medium mb-1 text-center leading-snug pr-6"></p>
                                <p id="example-en" class="text-sm text-slate-400 text-center"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <nav class="bg-white/80 backdrop-blur-2xl border border-white/40 rounded-full p-2 shadow-2xl flex justify-between items-center gap-2">
            <button id="prev-button" class="flex-1 py-4 rounded-full hover:bg-black/5 active:bg-black/10 transition text-slate-600 flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg></button>
            <button id="flip-button" class="flex-none btn-primary w-16 h-16 rounded-full flex justify-center items-center text-white text-xl font-bold shadow-lg shadow-teal-500/30"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/></svg></button>
            <button id="next-button" class="flex-1 py-4 rounded-full hover:bg-black/5 active:bg-black/10 transition text-slate-600 flex justify-center items-center"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg></button>
        </nav>
    </main>
    <script>
        const masterDeck = [
            { french: "agir", english: "to act", type: "v.", category: "cat1", example_fr: "Il est temps d'agir pour protéger l'environnement.", example_en: "It is time to act to protect the environment." },
            { french: "atteindre", english: "to reach, achieve", type: "v.", category: "cat1", example_fr: "Nous devons travailler dur pour atteindre nos objectifs.", example_en: "We must work hard to reach our objectives." },
            // ... Paste Full B1 Array Here ...
            { french: "la taxe", english: "the tax", type: "n.f.", category: "cat20", example_fr: "Il faut payer une taxe sur la valeur ajoutée.", example_en: "You have to pay a value-added tax." }
        ];
        let currentDeck = [...masterDeck];
        let currentIndex = 0;
        let isFlipped = false;
        const cardContainer = document.getElementById('flashcard-container');
        const cardFrontText = document.getElementById('card-front-text');
        const cardBackText = document.getElementById('card-back-text');
        const cardTypeText = document.getElementById('card-type-text');
        const exampleFr = document.getElementById('example-fr');
        const exampleEn = document.getElementById('example-en');
        const progressIndicator = document.getElementById('progress-indicator');
        const categorySelect = document.getElementById('category-select');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const flipButton = document.getElementById('flip-button');
        const shuffleButton = document.getElementById('shuffle-button');
        function updateCard() { if (currentDeck.length === 0) return; const card = currentDeck[currentIndex]; cardFrontText.textContent = card.french; cardBackText.textContent = card.english; cardTypeText.textContent = card.type; exampleFr.textContent = card.example_fr; exampleEn.textContent = `(${card.example_en})`; resetCardToFront(); updateProgress(); }
        function updateProgress() { progressIndicator.textContent = `Carte ${currentIndex + 1} sur ${currentDeck.length}`; }
        function resetCardToFront() { cardContainer.classList.remove('is-flipped'); isFlipped = false; }
        function flipCard() { cardContainer.classList.toggle('is-flipped'); isFlipped = !isFlipped; }
        function nextCard() { currentIndex = (currentIndex + 1) % currentDeck.length; updateCard(); }
        function prevCard() { currentIndex = (currentIndex - 1 + currentDeck.length) % currentDeck.length; updateCard(); }
        function shuffleDeck() { for (let i = currentDeck.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [currentDeck[i], currentDeck[j]] = [currentDeck[j], currentDeck[i]]; } currentIndex = 0; updateCard(); }
        function filterDeck() { const category = categorySelect.value; if (category === 'all') { currentDeck = [...masterDeck]; } else { currentDeck = masterDeck.filter(card => card.category === category); } currentIndex = 0; updateCard(); }
        
        function playAudio(e) { e.stopPropagation(); speakText(currentDeck[currentIndex].french); }
        function playExampleAudio(e) { e.stopPropagation(); speakText(currentDeck[currentIndex].example_fr);}
        function playExampleAudio(e) { e.stopPropagation(); speakText(currentDeck[currentIndex].example_fr); }
        function speakText(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'fr-FR';
                utterance.rate = 0.9;
                const voices = window.speechSynthesis.getVoices();
                const frenchVoice = voices.find(voice => voice.lang.includes('fr'));
                if (frenchVoice) utterance.voice = frenchVoice;
                window.speechSynthesis.speak(utterance);
            }
        }

        prevButton.addEventListener('click', (e) => { e.stopPropagation(); prevCard(); });
        nextButton.addEventListener('click', (e) => { e.stopPropagation(); nextCard(); });
        flipButton.addEventListener('click', (e) => { e.stopPropagation(); flipCard(); });
        shuffleButton.addEventListener('click', (e) => { e.stopPropagation(); shuffleDeck(); });
        categorySelect.addEventListener('change', filterDeck);
        document.addEventListener('keydown', (e) => { if (e.key === 'ArrowRight') nextCard(); else if (e.key === 'ArrowLeft') prevCard(); else if (e.key === ' ') { e.preventDefault(); flipCard(); } });
        window.speechSynthesis.getVoices();
        updateCard();
    </script>
</body>
</html>
